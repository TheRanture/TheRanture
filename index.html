<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ranture</title>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text&family=Lora&display=swap" rel="stylesheet">
  <style>
  .textbed {
  background: #fdfaf7;
  padding: 1.5em 2em;
  border-radius: 12px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
  max-width: 900px;
  margin: 1.5em auto;
  color: #222;
  font-family: 'Crimson Text', 'Lora', serif;
  line-height: 1.6;
  font-size: 1.1rem;
  transition: background-color 0.3s ease, color 0.3s ease;
}
body.dark-mode .textbed {
  background: #1e1e1e;
  color: #d0d0d0;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
}
    .torch-mode {
  background: none;
  border: none;
  cursor: pointer;
  position: relative;
  width: 32px;
  height: 48px;
  padding: 0;
}

.torch {
  position: relative;
  width: 100%;
  height: 100%;
}

.handle {
  width: 8px;
  height: 28px;
  background: linear-gradient(45deg, #5b3a29 0%, #7e5e45 50%, #4d3221 100%);
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 3px;
  box-shadow: inset 0 0 2px #3a2a1d, 0 0 4px rgba(0, 0, 0, 0.3);
}
    .handle::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    45deg,
    rgba(255,255,255,0.05) 0px,
    rgba(255,255,255,0.05) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
  border-radius: 3px;
}


.flame {
 filter: blur(0.4px);
  position: absolute;
  bottom: 20px;
  left: 50%;
  width: 10px;
  height: 10px;
  background: orange;
  border-radius: 50% 50% 50% 0;
  transform: translateX(-50%) rotate(-45deg);
  box-shadow: 0 0 8px orange;
  opacity: 0.8;
  animation: flickerFlame 0.4s infinite alternate ease-in-out;
}

@keyframes flickerFlame {
  0% {
    transform: translateX(-50%) rotate(-45deg) scale(1) translateY(0);
  }
  50% {
    transform: translateX(-50%) rotate(-47deg) scale(1.1) translateY(-2px);
  }
  100% {
    transform: translateX(-50%) rotate(-43deg) scale(1.2) translateY(-4px);
  }
}

.torch .flame:nth-child(1) {
  animation-delay: 0s;
}
.torch .flame:nth-child(2) {
  animation-delay: 0.1s;
  background: #ff9933;
  width: 8px;
  height: 8px;
}
.torch .flame:nth-child(3) {
  animation-delay: 0.2s;
  background: #ffd966;
  width: 6px;
  height: 6px;
}

body.dark-mode .smoke {
  animation: rise 1.5s infinite;
  opacity: 1;
}
 #mode-toggle.torch-mode {
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 12000;
}

@keyframes rise {
  0% {
    transform: translateX(-50%) translateY(0) scale(1);
    opacity: 0.4;
  }
  100% {
    transform: translateX(-50%) translateY(-20px) scale(1.6);
    opacity: 0;
  }
}
/* Link Darkmode Style */
    body.dark-mode a {
  color: #dab76a;
}
body.dark-mode a:hover {
  color: #ffe5a3;
}
    /* RESET & BASE STYLES */
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      color: #222;
      margin: 0;
      padding-bottom: 280px;
      overflow-x: hidden;
      transition: background-color 0.5s ease, color 0.5s ease;
    }

    body.dark-mode {
  background: linear-gradient(to bottom, 
    transparent 0px, 
    transparent 160px, 
    #0f112a 160px, 
    #0f112a 100%);
  color: #eee;
    }

body.dark-mode #clear-search {
  color: black; /* ← this fixes it permanently */
}
    .search-suggestion {
  display: inline-block;
  padding: 6px 12px;
  background: #eee;
  color: #111;
  font-size: 15px; /* increased from ~12px */
  border-radius: 5px;
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}
body.dark-mode .search-suggestion {
  background: #f4f4f8;  /* soft light */
  color: #111;
  font-size: 15px;
  box-shadow: 0 1px 4px rgba(255, 255, 255, 0.05);
}
    .search-suggestion:hover {
  background: #ddd;
  color: #000;
}

body.dark-mode .search-suggestion:hover {
  background: #e0e0e5;
  color: #000;
}
    /* MODE TOGGLE */
    /* HEADER TOOLBAR WRAPPER */
    #header-toolbar-wrapper {
      position: relative;
      z-index: 11000;
      background: #333;
      color: #fff;
      display: flex;
      flex-direction: column;
      box-shadow: 0 2px 8px rgba(0,0,0,0.5);
      user-select: none;
    }

    header {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px 0;
      gap: 15px;
    }

    /* MOTTO */
    #motto {
      text-align: center;
      font-style: italic;
      font-size: 1.2em;
      margin-top: 0.2em;
      margin-bottom: 0.8em;
      color: #999;
    }

    /* TOOLBAR NAVIGATION */
    #toolbar {
      display: flex;
      justify-content: center;
      background: #222;
      padding: 6px 0;
      gap: 15px;
    }

    .toolbar-btn {
      background: #444;
      border: none;
      color: white;
      padding: 8px 18px;
      font-size: 14px;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .toolbar-btn:hover {
      background: #666;
    }

    .toolbar-btn.active {
      background: #007BFF;
      color: white;
      font-weight: bold;
    }

    /* SEARCH CONTAINER */
    #search-container {
      position: absolute;
      top: 0;
      left: 0;
      display: flex;
      align-items: center;
      gap: 6px;
      z-index: 11001;
      padding: 6px;
    }

    #search-toggle {
      background: none;
      border: none;
      cursor: pointer;
      padding: 4px;
      color: #fff;
      font-size: 22px;
    }

    #search-bar {
      display: none;
      width: 200px;
      padding: 6px 28px 6px 8px;
      font-size: 14px;
      border: none;
      border-radius: 3px;
      outline: none;
      background: #fff;
      color: #000;
      position: relative;
      z-index: 11000;
    }
body.dark-mode #search-bar {
  background-color: #f4f4f8;  /* soft off-white */
  color: #111;                /* dark text for readability */
  border: 1px solid #aaa;
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.05);
}

body.dark-mode #search-bar::placeholder {
  color: #777; /* slightly dimmed hint text */
}
    #clear-search {
      margin-left: -28px;
      background: transparent;
      border: none;
      font-size: 18px;
      color: black;
      cursor: pointer;
      z-index: 11002;
      padding: 0 6px;
      display: none;
    }

    body.dark-mode #clear-search {
      color: black;
    }

    #search-funny {
      position: absolute;
      top: 40px;
      left: 40px;
      background: #333;
      color: #ccc;
      font-size: 12px;
      padding: 4px 8px;
      border-radius: 3px;
      white-space: nowrap;
      display: none;
      z-index: 11000;
    }

    body.dark-mode #search-funny {
      background: #222;
      color: #aaa;
    }

    /* ARTICLE PREVIEWS */
    .articles-container {
      text-align: center;
      padding: 1em;
    }

    .article-preview {
      max-width: 300px;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      padding: 1em;
      margin: 1em;
      cursor: pointer;
      transition: box-shadow 0.3s ease;
      display: inline-block;
      vertical-align: top;
      text-align: left;
    }

    .article-preview:hover {
      box-shadow: 0 6px 16px rgba(0,0,0,0.2);
    }

    .preview-image {
      width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 0.8em;
    }

    .article-preview h3 {
      margin: 0 0 0.5em;
      font-family: 'Palatino Linotype', serif;
      color: #333;
    }

    .article-preview p {
      font-size: 0.9em;
      color: #555;
      line-height: 1.3;
      margin: 0;
    }

    /* MAIN CONTENT */
    main {
      padding: 10px;
      margin: 10px auto 0;
      max-width: 900px;
      box-sizing: border-box;
      min-height: 500px;
    }

    /* FOOTNOTE */
    #footnote {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      font-size: 12px;
      color: #666;
      background: rgba(245, 245, 245, 0.9);
      padding: 6px 12px;
      text-align: center;
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
      font-style: italic;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      z-index: 9998;
    }

    body.dark-mode #footnote {
      color: #bbb;
      background: rgba(18, 18, 18, 0.9);
    }
  </style>
</head>
<body>
  <button id="mode-toggle" class="torch-mode" aria-label="Toggle dark mode">
  <div class="torch">
    <div class="handle"></div>
    <div class="smoke"></div>
  </div>
</button>
  <div id="header-toolbar-wrapper">
    <header>
      <h1>Ranture</h1>
    </header>
    <div id="motto">“I came, I saw, I ranted.”</div>
    <div id="search-container">
      <button id="search-toggle" aria-label="Toggle Search">
        <svg xmlns="http://www.w3.org/2000/svg" height="22" viewBox="0 0 24 24" width="22" fill="currentColor">
          <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zM10 14a4 4 0 110-8 4 4 0 010 8z"/>
        </svg>
      </button>
      <input type="text" id="search-bar" placeholder="Search..." aria-label="Search" autocomplete="off" />
      <button id="clear-search" aria-label="Clear Search">×</button>
      <div id="search-funny" aria-live="polite"></div>
    </div>
    <nav id="toolbar" role="navigation" aria-label="Primary site navigation">
      <button class="toolbar-btn active" data-page="articles">Articles</button>
      <button class="toolbar-btn" data-page="shorticles">Shorticles</button>
      <button class="toolbar-btn" data-page="books">Books</button>
      <button class="toolbar-btn" data-page="about">About</button>
      <button class="toolbar-btn" data-page="legal">Legal</button>
    </nav>
  </div>

  <div class="articles-container" id="articles-container">
    <div class="article-preview" onclick="loadArticle('ai-rights.html', this)">
      <img src="myfolder/Banner.png" alt="AI Rights Banner" class="preview-image" />
      <h3>AI Consciousness and Rights</h3>
      <p>An exploration of AI awareness.</p>
    </div>
  </div>

  <div id="article-full-content" style="display:none; max-width: 900px; margin: 1em auto;"></div>
  <main id="main-content" tabindex="0" aria-live="polite"></main>
  <div id="footnote">© Count Rantula — All Rants Reserved</div>
  <button id="back-to-top" aria-label="Back to Top" style="display:none;position:fixed;bottom:60px;right:12px;">⬆</button>
  <script>
    try {
  const dm = localStorage.getItem('darkMode');
  if (dm === '1') document.body.classList.add('dark-mode');
} catch (e) {}
document.addEventListener('DOMContentLoaded', () => {
  const toggle = document.getElementById('search-toggle');
  const input = document.getElementById('search-bar');
  const funny = document.getElementById('search-funny');
  const clear = document.getElementById('clear-search');
  toggle.addEventListener('click', () => {
  const isVisible = window.getComputedStyle(input).display !== 'none';
  if (isVisible) {
    input.style.display = 'none';
    clear.style.display = 'none';
    funny.style.display = 'none';
  } else {
    input.style.display = 'block';
    input.focus();
  }
});
  const torch = document.querySelector('.torch');

  if (torch) {
    torch.querySelectorAll('.flame').forEach(f => f.remove());
    for (let i = 0; i < 6; i++) {
      const flame = document.createElement('div');
      flame.classList.add('flame');
      flame.style.left = `${47 + (Math.random() * 6 - 3)}%`;
      flame.style.width = `${6 + Math.random() * 8}px`;
      flame.style.height = `${6 + Math.random() * 10}px`;
      flame.style.animationDelay = `${Math.random() * 0.6}s`;
      flame.style.background = ['#ff6600', '#ff9933', '#ffd966', '#ffaa00'][Math.floor(Math.random() * 4)];
      flame.style.opacity = (0.6 + Math.random() * 0.4).toFixed(2);
      torch.appendChild(flame);
    }
  }

  if ('scrollRestoration' in history) history.scrollRestoration = 'manual';
  window.scrollTo(0, 0);

  let saved = null;
  try {
    saved = localStorage.getItem('lastView');
  } catch (e) {
    console.warn('localStorage not available:', e);
  }

  if (saved) {
    try {
      const view = JSON.parse(saved);
      if (view.type === 'article') loadArticle(view.file);
      else if (view.type === 'section') {
        const btn = document.querySelector(`.toolbar-btn[data-page="${view.page}"]`);
        if (btn) btn.click();
      }
    } catch (e) {
      console.warn('Invalid saved data:', e);
    }
  }

input.addEventListener('input', () => {
  const val = input.value.trim().toLowerCase();
  clear.style.display = val.length ? 'inline' : 'none';

  if (val.length === 0) {
    funny.textContent = '';
    funny.style.display = 'none';
    return;
  }

  if (funnyResponses[val]) {
    funny.textContent = funnyResponses[val];
    funny.style.display = 'block';  // ← make sure it's shown
    return;
  }

  const searchableArticles = Array.from(document.querySelectorAll('.article-preview')).map(preview => {
    const titleElem = preview.querySelector('h3');
    const snippetElem = preview.querySelector('p');
    const fileMatch = preview.getAttribute('onclick')?.match(/loadArticle\(['"]([^'"]+)['"]/);
    return {
      title: titleElem?.textContent.trim() || '',
      snippet: snippetElem?.textContent.trim() || '',
      file: fileMatch ? fileMatch[1] : '',
      keywords: (titleElem?.textContent.toLowerCase().split(/\s+/) || [])
    };
  });

  const match = searchableArticles.find(a => 
    a.title.toLowerCase().includes(val) || 
    a.keywords.some(k => k.startsWith(val))
  );

  if (match) {
    funny.innerHTML = `<div class="search-suggestion" onclick="loadArticle('${match.file}'); document.getElementById('search-funny').style.display='none';">${match.title}</div>`;
  } else {
    funny.textContent = 'Searching... No results found.';
  }

  funny.style.display = 'block';  // ← ensure it's always visible
});
clear.addEventListener('click', () => {
  input.value = '';
  funny.textContent = '';
  funny.style.display = 'none';  // ← make sure it hides
  clear.style.display = 'none';
  input.focus();
});
});
  // Mode toggle setup
  const modeToggle = document.getElementById('mode-toggle');
  const darkActive = document.body.classList.contains('dark-mode');
  modeToggle.setAttribute('aria-pressed', darkActive);

modeToggle.addEventListener('click', () => {
  const toggled = document.body.classList.toggle('dark-mode');
  modeToggle.setAttribute('aria-pressed', toggled);
  try {
    localStorage.setItem('darkMode', toggled ? '1' : '0');
  } catch (e) {}
});

  // Back to top visibility
  const backToTop = document.getElementById('back-to-top');
  window.addEventListener('scroll', () => {
    backToTop.style.display = window.scrollY > 300 ? 'block' : 'none';
    const footnote = document.getElementById('footnote');
   const nearBottom = window.innerHeight + window.scrollY >= document.body.offsetHeight - 200;
    footnote.style.opacity = nearBottom ? '1' : '0';
    footnote.style.pointerEvents = nearBottom ? 'auto' : 'none';
  });

  backToTop.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Home') {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  });

  // Konami Code Easter Egg
  const konami = [38,38,40,40,37,39,37,39,66,65];
  let kPos = 0;
  window.addEventListener('keydown', (e) => {
    kPos = (e.keyCode === konami[kPos]) ? kPos + 1 : 0;
    if (kPos === konami.length) {
      const pop = document.createElement('div');
      pop.id = 'konami-popup';
      pop.textContent = 'They are watching!';
      Object.assign(pop.style, {
        position: 'fixed', top: '50%', left: '50%', transform: 'translate(-50%, -50%)',
        background: '#cc0000', color: '#fff', fontSize: '2rem', padding: '30px 50px',
        borderRadius: '8px', fontWeight: 'bold', fontFamily: 'monospace',
        boxShadow: '0 0 15px #ff0000', zIndex: 15000, textAlign: 'center'
      });
      document.body.appendChild(pop);
      setTimeout(() => pop.remove(), 4000);
      kPos = 0;
    }
  });

  // Toolbar nav
  const buttons = document.querySelectorAll('.toolbar-btn');
  const main = document.getElementById('main-content');
  const full = document.getElementById('article-full-content');
  const previews = document.getElementById('articles-container');

  buttons.forEach(btn => btn.addEventListener('click', () => {
    buttons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const page = btn.dataset.page;
try {
  localStorage.setItem('lastView', JSON.stringify({ type: 'section', page }));
} catch (e) {
  console.warn('localStorage not available:', e);
}
    full.style.display = 'none';
    previews.style.display = (page === 'articles') ? 'block' : 'none';
    main.style.display = 'block';

    const content = {
      articles: `<div class="textbed"><h2>Articles</h2><p>Articles content goes here...</p></div>`,
      shorticles: `<div class="textbed"><h2>Shorticles</h2><p>Shorticles content goes here...</p></div>`,
      books: `<div class="textbed"><h2>Books</h2><p>Books content goes here...</p></div>`,
      about: `<div class="textbed"><h2>About</h2><p>This website is written by <strong>Karlos Hayden</strong>, a self proclaimed synchromancer.</p><p>It is a repository of articles, shorticles, ideas, fragments, files, and forgotten knowledge. The purpose is not to convince but to preserve and provoke — not to lead but to hint.</p><p><strong>Ranture</strong> is a non-interactive, read-only resource. There is no comment section, no login, and no updates pushed for engagement. Everything you find here is intentional and deliberately placed.</p><p>Take what resonates, question what doesn’t, and leave the rest to the noise.</p></div>`,
      legal: `<div class="textbed"><h2>Legal Disclaimer & Terms of Use</h2>          <p>This website and its content are provided 'as is' without warranties of any kind, express or implied. By accessing or using this site, you agree to the following terms:</p>
          <ul>
            <li>The content is for informational purposes only and does not constitute legal, financial, or professional advice.</li>
            <li>The owner disclaims all liability for any errors, omissions, or damages arising from the use or inability to use the site.</li>
            <li>Unauthorized use, copying, redistribution, or modification of the website content is prohibited.</li>
            <li>The owner is not responsible for any third-party links or external content.</li>
            <li>Visitors assume full responsibility for any consequences resulting from reliance on information provided here.</li>
            <li>The website does not collect personal data, and no input from users is accepted.</li>
            <li>By continuing to use the site, you waive any claims against the owner for damages arising from site usage.</li>
            <li>These terms apply globally and supersede any conflicting local laws.</li>
          </ul>
          <p><strong>Creative Commons License:</strong><br>
            This work is licensed under the
            <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" rel="noopener noreferrer">
              Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License
            </a>.
          </p>
          <h2>Content Disclaimer</h2>
          <p><strong>Disclaimer:</strong></p>
          <p>The views, opinions, and information expressed on this website are those of the author alone and do not necessarily reflect the views or positions of any organization, group, or community.</p>
          <p>This website <strong>does not endorse, promote, or condone</strong> racism, homophobia, sexism, discrimination, hatred, violence, or any form of intolerance. Any controversial or sensitive topics discussed here are presented in the context of free speech, intellectual exploration, and societal critique — not as a means to offend, harm, or marginalize any individual or group.</p>
          <p>Readers are encouraged to approach the content with an open mind and engage respectfully. If you find any content offensive, please consider the intent behind it and understand it is not meant to attack or demean any person or community.</p>
          <p>By using this website, you agree that the author is not responsible for interpretations or misuse of the material, and you accept full responsibility for your own reactions and conclusions.</p>
          <p><strong>Copyright Notice:</strong><br>
            &copy; 2025 Ranture — Published at TheRanture. All rights reserved. No part of this website may be copied, reproduced, or republished without written permission.
          </p> <!-- etc. Full legal text here --> </div>`
    };

    main.innerHTML = content[page] || `<p>Unknown page: ${page}</p>`;
  }));

  // Search logic
  const funnyResponses = {
    "aliens": "👽 Try Paris.",
    "password": "🔐 Nice try. The password is not 'password'.",
    // ... (other entries omitted for brevity)
  };
  document.addEventListener('click', e => {
    if (!document.getElementById('search-container').contains(e.target)) {
      input.style.display = 'none';
      clear.style.display = 'none';
      funny.style.display = 'none';
    }
  });
  // Ranture - Script Logic
// SHA-256 page hash generation
  async function generatePageHash() {
  const encoder = new TextEncoder();
  const data = encoder.encode(document.documentElement.outerHTML);
  const hashBuffer = await crypto.subtle.digest('SHA-256', data);
  const hashArray = Array.from(new Uint8Array(hashBuffer));
  const fullHash = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
  const shortHash = fullHash.substring(0, 6);
  console.log("Full SHA-256 hash:", fullHash);
  console.log("Short Proof Code: RAN-" + shortHash);
  const hashDisplay = document.getElementById('page-hash');
  if (hashDisplay) hashDisplay.textContent = `Proof Code: RAN-${shortHash}`;
  const fullHashEl = document.getElementById('full-page-hash');
  if (fullHashEl) fullHashEl.textContent = fullHash;
}
generatePageHash();
// Load article
function loadArticle(filename) {
try {
  localStorage.setItem('lastView', JSON.stringify({ type: 'article', file: filename }));
} catch (e) {
  console.warn('localStorage not available:', e);
}
  fetch(filename)
    .then(res => res.text())
    .then(html => {
      const doc = new DOMParser().parseFromString(html, 'text/html');
      const content = doc.querySelector('.ai-rights-body');
      if (!content) return alert('Article content not found.');
      document.getElementById('articles-container').style.display = 'none';
      document.getElementById('main-content').style.display = 'none';
      const container = document.getElementById('article-full-content');
      container.innerHTML = `<div class="textbed">${content.innerHTML}</div>`;
      container.style.display = 'block';
      document.getElementById('search-funny').style.display = 'none';
      container.scrollIntoView({ behavior: 'smooth' });
    })
    .catch(err => alert('Failed to load article: ' + err));
}
</script>
  </body>
</html>
